---
alwaysApply: true
---

---
description: 프로젝트의 기획(PRD) 및 사용자 흐름(FLOW) 준수 규칙
globs: app/**/*.{tsx,ts}, components/**/*.{tsx,ts}, lib/**/*.{ts}
---

# [하루투자] 기획 및 흐름 준수 가이드

## 1. Phase 1 MVP 범위 엄격 준수
- **허용 기능**: Google 로그인, 관심 종목 CRUD, AI 요약 리포트 생성 및 조회
- **제외 대상**: Phase 2 기능(이메일/카톡 발송, 크론탭 스케줄링, 실시간 알림)은 현재 단계에서 절대 구현하지 않음
- **데이터 모델**: `User`, `Stock`, `Report` 모델의 스키마를 최우선으로 준수

## 2. 사용자 여정 (FLOW) 기반 로직
- 모든 페이지 이동 및 API 호출은 `FLOW.md`의 Sequence Diagram 순서를 따름
- **인증 단계**: 로그인 여부에 따라 Public/Private Area를 엄격히 분리 (Middleware 활용)
- **AI 생성 프로세스**: 상세 페이지 진입 -> 버튼 클릭 -> AI 생성 -> DB 저장 -> 화면 표시 순서 준수

## 3. 예외 처리
- AI API 호출 실패 시 사용자에게 직관적인 에러 메시지 표시
- 중복된 종목 등록 시도 시 알림 처리